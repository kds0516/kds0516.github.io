---
title: RabbitMQ와 AWS Lambda를 함께 사용하기 워커 함수 활성화 유지 방법
date: 2023-08-25 20:00:00 +0900
categories:
  - JavaScript
tags:
  - RabbitMQ
  - AWSLambda
---

## RabbitMQ와 AWS Lambda 간단한 소개

RabbitMQ는 메시지 브로커로 널리 사용되며, AWS Lambda는 이벤트 기반의 서버리스 컴퓨팅 서비스입니다. 메시지 브로커란 시스템 간에 메시지를 교환할 수 있게 도와주는 소프트웨어나 하드웨어를 말합니다. 서버리스 컴퓨팅이란 서버를 직접 관리하지 않고도 코드를 실행할 수 있는 클라우드 컴퓨팅의 한 형태입니다.

## 문제점: Lambda에서 RabbitMQ 워커 유지

AWS Lambda의 주요 제약 중 하나는 실행 시간입니다. 기본적으로 Lambda 함수는 최대 15분 동안만 실행될 수 있습니다. RabbitMQ 워커가 계속 활성화되어야 하는 경우, 이는 큰 문제가 될 수 있습니다.

## 해결책 1: 높은 빈도의 트리거 설정

Lambda를 자주 호출하도록 트리거를 설정하여 워커 함수가 계속 활성화되도록 할 수 있습니다. 예를 들어, CloudWatch 이벤트를 사용하여 매분마다 Lambda 함수를 호출하게 설정할 수 있습니다.

## 해결책 2: 장기 실행 워커 이용

RabbitMQ 워커를 Lambda가 아닌 EC2 인스턴스나 컨테이너 서비스에 배치하여 장기 실행을 할 수 있습니다. EC2란 가상 서버를 제공하는 AWS의 서비스입니다.

## 해결책 3: 스텝 함수 활용

AWS 스텝 함수를 사용하면 여러 Lambda 함수를 조합하여 하나의 워크플로우를 만들 수 있습니다. 이를 통해 워커가 메시지를 처리하는 동안 활성 상태를 유지할 수 있습니다.

## 결론

AWS Lambda와 RabbitMQ를 함께 사용할 때 워커 함수를 지속적으로 활성화하는 방법은 몇 가지가 있습니다. 트리거 설정, 장기 실행 워커, 스텝 함수 등 다양한 방법을 적용하여 이 문제를 해결할 수 있습니다. 워커 함수의 활성화 유지는 시스템의 효율성과 안정성에 큰 영향을 미치므로 주의 깊게 고려해야 합니다.